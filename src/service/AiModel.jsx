/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 *
 * See the getting started guide for more information
 * https://ai.google.dev/gemini-api/docs/get-started/node
 */

import { GoogleGenerativeAI } from "@google/generative-ai";


  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
  export const chatSession = model.startChat({
      generationConfig,
   // safetySettings: Adjust safety settings
   // See https://ai.google.dev/gemini-api/docs/safety-settings
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with\nHotelName, Hotel address, Price in inr, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place\nDetails, Place Image Url, Geo Coordinates, ticket Pricing in inr, rating, Time travel each of the location for 3 days with each day plan with\nbest time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "## Las Vegas Budget Trip for a Couple (3 Days)\n\nThis itinerary focuses on maximizing your experience while sticking to a budget. It includes free activities, affordable dining, and budget-friendly accommodation options.\n\n**Hotel Options:**\n\n| Hotel Name | Hotel Address | Price (INR) | Hotel Image URL | Geo Coordinates | Rating | Description |\n|---|---|---|---|---|---|---|\n| **The D Las Vegas** | 301 Fremont Street, Las Vegas, NV 89101 | ₹5,000 - ₹8,000 | https://images.trvl-media.com/hotels/2000000/1974000/1973500/1973549/1973549_16_b.jpg | 36.1699, -115.1431 | 4.0 | A vibrant, budget-friendly hotel in the heart of Fremont Street. Offers a casino, pool, and restaurants. |\n| **Golden Nugget Las Vegas** | 129 E Fremont St, Las Vegas, NV 89101 | ₹6,000 - ₹10,000 | https://images.trvl-media.com/hotels/2000000/1967000/1966700/1966781/1966781_16_b.jpg | 36.1696, -115.1421 | 4.5 | Iconic hotel with a vibrant atmosphere, known for its shark tank and pool. |\n| **Circus Circus Hotel & Casino** | 2880 Las Vegas Blvd S, Las Vegas, NV 89109 | ₹4,000 - ₹7,000 | https://images.trvl-media.com/hotels/2000000/1975000/1974900/1974946/1974946_16_b.jpg | 36.1165, -115.1735 | 3.5 | A family-friendly option with a circus theme, offering affordable accommodation and entertainment. |\n\n**Itinerary:**\n\n**Day 1: Fremont Street & Old Vegas Experience**\n\n* **Morning (9:00 AM - 12:00 PM):**\n    * **Place:** Fremont Street Experience\n    * **Place Details:** Vibrant pedestrian mall with live music, street performers, and the iconic canopy of LED lights.\n    * **Place Image URL:** https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Fremont_Street_Experience_2018.jpg/1280px-Fremont_Street_Experience_2018.jpg\n    * **Geo Coordinates:** 36.1697, -115.1425\n    * **Ticket Pricing:** Free\n    * **Rating:** 4.5\n* **Lunch (12:00 PM - 1:00 PM):**\n    * **Place:** The D Casino & Hotel -  Various Food Options\n    * **Place Details:** Enjoy a casual lunch at one of the many restaurants within The D Casino.\n    * **Place Image URL:** https://www.thed.com/sites/default/files/styles/1200x630/public/2020-01/D_Restaurant_Interior.jpg\n    * **Geo Coordinates:** 36.1699, -115.1431\n    * **Ticket Pricing:** ₹500 - ₹1000 (approx.)\n    * **Rating:** 4.0\n* **Afternoon (1:00 PM - 4:00 PM):**\n    * **Place:** Mob Museum\n    * **Place Details:** Learn about the history of organized crime in Las Vegas.\n    * **Place Image URL:** https://upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Mob_Museum_Las_Vegas_2017_02.jpg/1280px-Mob_Museum_Las_Vegas_2017_02.jpg\n    * **Geo Coordinates:** 36.1721, -115.1440\n    * **Ticket Pricing:** ₹1500 - ₹2000 (approx.)\n    * **Rating:** 4.5\n* **Evening (4:00 PM - 8:00 PM):**\n    * **Place:** Golden Nugget Casino & Hotel -  Free Shows\n    * **Place Details:** Enjoy free live entertainment at the Golden Nugget's show lounge.\n    * **Place Image URL:** https://www.goldennugget.com/las-vegas/media/images/las-vegas-pool.jpg\n    * **Geo Coordinates:** 36.1696, -115.1421\n    * **Ticket Pricing:** Free\n    * **Rating:** 4.5\n* **Dinner (8:00 PM - 9:00 PM):**\n    * **Place:**  Heart Attack Grill\n    * **Place Details:**  A quirky, themed restaurant known for its outrageous burgers and \"calorie-counting\" gimmick.\n    * **Place Image URL:** https://www.lasvegas.com/wp-content/uploads/2018/01/Heart-Attack-Grill-Las-Vegas-1.jpg\n    * **Geo Coordinates:** 36.1685, -115.1430\n    * **Ticket Pricing:** ₹1000 - ₹1500 (approx.)\n    * **Rating:** 4.0\n\n**Day 2: Strip & Entertainment**\n\n* **Morning (9:00 AM - 12:00 PM):**\n    * **Place:** Bellagio Conservatory & Botanical Garden\n    * **Place Details:** Free to visit, featuring stunning floral displays and themed gardens.\n    * **Place Image URL:** https://www.bellagio.com/content/dam/bellagio/images/conservatory/hero/conservatory-hero-desktop-05232023-optimized.jpg\n    * **Geo Coordinates:** 36.1135, -115.1744\n    * **Ticket Pricing:** Free\n    * **Rating:** 4.5\n* **Lunch (12:00 PM - 1:00 PM):**\n    * **Place:**  In-N-Out Burger\n    * **Place Details:**  Popular fast-food chain with affordable and delicious burgers.\n    * **Place Image URL:** https://www.in-n-out.com/media/images/home-banner.jpg\n    * **Geo Coordinates:** 36.1136, -115.1742\n    * **Ticket Pricing:** ₹500 - ₹800 (approx.)\n    * **Rating:** 4.0\n* **Afternoon (1:00 PM - 4:00 PM):**\n    * **Place:**  The LINQ Promenade\n    * **Place Details:**  Outdoor shopping and dining area with the High Roller observation wheel.\n    * **Place Image URL:** https://www.linq.com/sites/default/files/styles/large_image_4x3_ratio/public/2022-01/linq-promenade-las-vegas-outdoor-shopping-dining-entertainment-nighttime.jpg\n    * **Geo Coordinates:** 36.1227, -115.1704\n    * **Ticket Pricing:** High Roller (optional): ₹2000 - ₹3000 (approx.)\n    * **Rating:** 4.0\n* **Evening (4:00 PM - 8:00 PM):**\n    * **Place:**  Fountains of Bellagio\n    * **Place Details:**  Spectacular water and music show in front of the Bellagio hotel.\n    * **Place Image URL:** https://www.bellagio.com/content/dam/bellagio/images/fountains/hero/fountains-hero-desktop-05232023-optimized.jpg\n    * **Geo Coordinates:** 36.1135, -115.1744\n    * **Ticket Pricing:** Free\n    * **Rating:** 4.5\n* **Dinner (8:00 PM - 9:00 PM):**\n    * **Place:**  The Buffet at Wynn Las Vegas\n    * **Place Details:**  High-quality buffet with diverse food options for a reasonable price.\n    * **Place Image URL:** https://www.wynnsocial.com/media/images/Wynn_Buffet_Interior.jpg\n    * **Geo Coordinates:** 36.1162, -115.1715\n    * **Ticket Pricing:** ₹2000 - ₹3000 (approx.)\n    * **Rating:** 4.5\n\n**Day 3: Day Trip to Red Rock Canyon National Conservation Area**\n\n* **Morning (9:00 AM - 12:00 PM):**\n    * **Place:**  Red Rock Canyon National Conservation Area\n    * **Place Details:**  Stunning natural beauty with red rock formations, hiking trails, and scenic drives.\n    * **Place Image URL:** https://www.nps.gov/redr/learn/nature/images/RedRockCanyon_001.jpg\n    * **Geo Coordinates:** 36.0942, -115.3106\n    * **Ticket Pricing:**  ₹1000 - ₹1500 (approx.) for a car pass.\n    * **Rating:** 4.5\n* **Lunch (12:00 PM - 1:00 PM):**\n    * **Place:**  Picnic Lunch at Red Rock Canyon\n    * **Place Details:**  Enjoy a scenic picnic lunch in the park.\n    * **Place Image URL:** https://www.nps.gov/redr/learn/nature/images/RedRockCanyon_001.jpg\n    * **Geo Coordinates:** 36.0942, -115.3106\n    * **Ticket Pricing:**  N/A\n    * **Rating:** 4.5\n* **Afternoon (1:00 PM - 4:00 PM):**\n    * **Place:**  Hiking Trails at Red Rock Canyon\n    * **Place Details:**  Choose from various hiking trails suited for different skill levels.\n    * **Place Image URL:** https://www.nps.gov/redr/learn/nature/images/RedRockCanyon_001.jpg\n    * **Geo Coordinates:** 36.0942, -115.3106\n    * **Ticket Pricing:**  N/A\n    * **Rating:** 4.5\n* **Evening (4:00 PM - 8:00 PM):**\n    * **Place:**  Fremont Street Experience -  Free Shows\n    * **Place Details:**  Enjoy a final evening in the heart of Las Vegas with live music and entertainment.\n    * **Place Image URL:** https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Fremont_Street_Experience_2018.jpg/1280px-Fremont_Street_Experience_2018.jpg\n    * **Geo Coordinates:** 36.1697, -115.1425\n    * **Ticket Pricing:** Free\n    * **Rating:** 4.5\n* **Dinner (8:00 PM - 9:00 PM):**\n    * **Place:**  The D Casino & Hotel -  Various Food Options\n    * **Place Details:**  Enjoy a final meal at one of the casual restaurants in The D Casino.\n    * **Place Image URL:** https://www.thed.com/sites/default/files/styles/1200x630/public/2020-01/D_Restaurant_Interior.jpg\n    * **Geo Coordinates:** 36.1699, -115.1431\n    * **Ticket Pricing:** ₹500 - ₹1000 (approx.)\n    * **Rating:** 4.0\n\n**JSON Format:**\n\n```json\n{\n  \"trip\": {\n    \"location\": \"Las Vegas\",\n    \"duration\": 3,\n    \"budget\": \"cheap\",\n    \"travelers\": \"couple\"\n  },\n  \"hotel\": [\n    {\n      \"name\": \"The D Las Vegas\",\n      \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"₹5,000 - ₹8,000\",\n      \"image\": \"https://images.trvl-media.com/hotels/2000000/1974000/1973500/1973549/1973549_16_b.jpg\",\n      \"coordinates\": {\n        \"latitude\": 36.1699,\n        \"longitude\": -115.1431\n      },\n      \"rating\": 4.0,\n      \"description\": \"A vibrant, budget-friendly hotel in the heart of Fremont Street. Offers a casino, pool, and restaurants.\"\n    },\n    {\n      \"name\": \"Golden Nugget Las Vegas\",\n      \"address\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"₹6,000 - ₹10,000\",\n      \"image\": \"https://images.trvl-media.com/hotels/2000000/1967000/1966700/1966781/1966781_16_b.jpg\",\n      \"coordinates\": {\n        \"latitude\": 36.1696,\n        \"longitude\": -115.1421\n      },\n      \"rating\": 4.5,\n      \"description\": \"Iconic hotel with a vibrant atmosphere, known for its shark tank and pool.\"\n    },\n    {\n      \"name\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"₹4,000 - ₹7,000\",\n      \"image\": \"https://images.trvl-media.com/hotels/2000000/1975000/1974900/1974946/1974946_16_b.jpg\",\n      \"coordinates\": {\n        \"latitude\": 36.1165,\n        \"longitude\": -115.1735\n      },\n      \"rating\": 3.5,\n      \"description\": \"A family-friendly option with a circus theme, offering affordable accommodation and entertainment.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"place\": \"Fremont Street Experience\",\n          \"details\": \"Vibrant pedestrian mall with live music, street performers, and the iconic canopy of LED lights.\",\n          \"image\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Fremont_Street_Experience_2018.jpg/1280px-Fremont_Street_Experience_2018.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.1697,\n            \"longitude\": -115.1425\n          },\n          \"ticket\": \"Free\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"12:00 PM - 1:00 PM\",\n          \"place\": \"The D Casino & Hotel - Various Food Options\",\n          \"details\": \"Enjoy a casual lunch at one of the many restaurants within The D Casino.\",\n          \"image\": \"https://www.thed.com/sites/default/files/styles/1200x630/public/2020-01/D_Restaurant_Interior.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.1699,\n            \"longitude\": -115.1431\n          },\n          \"ticket\": \"₹500 - ₹1000 (approx.)\",\n          \"rating\": 4.0\n        },\n        {\n          \"time\": \"1:00 PM - 4:00 PM\",\n          \"place\": \"Mob Museum\",\n          \"details\": \"Learn about the history of organized crime in Las Vegas.\",\n          \"image\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Mob_Museum_Las_Vegas_2017_02.jpg/1280px-Mob_Museum_Las_Vegas_2017_02.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.1721,\n            \"longitude\": -115.1440\n          },\n          \"ticket\": \"₹1500 - ₹2000 (approx.)\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"4:00 PM - 8:00 PM\",\n          \"place\": \"Golden Nugget Casino & Hotel - Free Shows\",\n          \"details\": \"Enjoy free live entertainment at the Golden Nugget's show lounge.\",\n          \"image\": \"https://www.goldennugget.com/las-vegas/media/images/las-vegas-pool.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.1696,\n            \"longitude\": -115.1421\n          },\n          \"ticket\": \"Free\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"8:00 PM - 9:00 PM\",\n          \"place\": \"Heart Attack Grill\",\n          \"details\": \"A quirky, themed restaurant known for its outrageous burgers and 'calorie-counting' gimmick.\",\n          \"image\": \"https://www.lasvegas.com/wp-content/uploads/2018/01/Heart-Attack-Grill-Las-Vegas-1.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.1685,\n            \"longitude\": -115.1430\n          },\n          \"ticket\": \"₹1000 - ₹1500 (approx.)\",\n          \"rating\": 4.0\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"place\": \"Bellagio Conservatory & Botanical Garden\",\n          \"details\": \"Free to visit, featuring stunning floral displays and themed gardens.\",\n          \"image\": \"https://www.bellagio.com/content/dam/bellagio/images/conservatory/hero/conservatory-hero-desktop-05232023-optimized.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.1135,\n            \"longitude\": -115.1744\n          },\n          \"ticket\": \"Free\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"12:00 PM - 1:00 PM\",\n          \"place\": \"In-N-Out Burger\",\n          \"details\": \"Popular fast-food chain with affordable and delicious burgers.\",\n          \"image\": \"https://www.in-n-out.com/media/images/home-banner.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.1136,\n            \"longitude\": -115.1742\n          },\n          \"ticket\": \"₹500 - ₹800 (approx.)\",\n          \"rating\": 4.0\n        },\n        {\n          \"time\": \"1:00 PM - 4:00 PM\",\n          \"place\": \"The LINQ Promenade\",\n          \"details\": \"Outdoor shopping and dining area with the High Roller observation wheel.\",\n          \"image\": \"https://www.linq.com/sites/default/files/styles/large_image_4x3_ratio/public/2022-01/linq-promenade-las-vegas-outdoor-shopping-dining-entertainment-nighttime.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.1227,\n            \"longitude\": -115.1704\n          },\n          \"ticket\": \"High Roller (optional): ₹2000 - ₹3000 (approx.)\",\n          \"rating\": 4.0\n        },\n        {\n          \"time\": \"4:00 PM - 8:00 PM\",\n          \"place\": \"Fountains of Bellagio\",\n          \"details\": \"Spectacular water and music show in front of the Bellagio hotel.\",\n          \"image\": \"https://www.bellagio.com/content/dam/bellagio/images/fountains/hero/fountains-hero-desktop-05232023-optimized.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.1135,\n            \"longitude\": -115.1744\n          },\n          \"ticket\": \"Free\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"8:00 PM - 9:00 PM\",\n          \"place\": \"The Buffet at Wynn Las Vegas\",\n          \"details\": \"High-quality buffet with diverse food options for a reasonable price.\",\n          \"image\": \"https://www.wynnsocial.com/media/images/Wynn_Buffet_Interior.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.1162,\n            \"longitude\": -115.1715\n          },\n          \"ticket\": \"₹2000 - ₹3000 (approx.)\",\n          \"rating\": 4.5\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"place\": \"Red Rock Canyon National Conservation Area\",\n          \"details\": \"Stunning natural beauty with red rock formations, hiking trails, and scenic drives.\",\n          \"image\": \"https://www.nps.gov/redr/learn/nature/images/RedRockCanyon_001.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.0942,\n            \"longitude\": -115.3106\n          },\n          \"ticket\": \"₹1000 - ₹1500 (approx.) for a car pass.\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"12:00 PM - 1:00 PM\",\n          \"place\": \"Picnic Lunch at Red Rock Canyon\",\n          \"details\": \"Enjoy a scenic picnic lunch in the park.\",\n          \"image\": \"https://www.nps.gov/redr/learn/nature/images/RedRockCanyon_001.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.0942,\n            \"longitude\": -115.3106\n          },\n          \"ticket\": \"N/A\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"1:00 PM - 4:00 PM\",\n          \"place\": \"Hiking Trails at Red Rock Canyon\",\n          \"details\": \"Choose from various hiking trails suited for different skill levels.\",\n          \"image\": \"https://www.nps.gov/redr/learn/nature/images/RedRockCanyon_001.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.0942,\n            \"longitude\": -115.3106\n          },\n          \"ticket\": \"N/A\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"4:00 PM - 8:00 PM\",\n          \"place\": \"Fremont Street Experience - Free Shows\",\n          \"details\": \"Enjoy a final evening in the heart of Las Vegas with live music and entertainment.\",\n          \"image\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Fremont_Street_Experience_2018.jpg/1280px-Fremont_Street_Experience_2018.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.1697,\n            \"longitude\": -115.1425\n          },\n          \"ticket\": \"Free\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"8:00 PM - 9:00 PM\",\n          \"place\": \"The D Casino & Hotel - Various Food Options\",\n          \"details\": \"Enjoy a final meal at one of the casual restaurants in The D Casino.\",\n          \"image\": \"https://www.thed.com/sites/default/files/styles/1200x630/public/2020-01/D_Restaurant_Interior.jpg\",\n          \"coordinates\": {\n            \"latitude\": 36.1699,\n            \"longitude\": -115.1431\n          },\n          \"ticket\": \"₹500 - ₹1000 (approx.)\",\n          \"rating\": 4.0\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* Prices are approximate and may vary depending on the season and availability.\n* Consider using public transportation or ride-sharing services to reduce costs.\n* Look for discounts and deals on attractions and food.\n* Pack snacks and water to save money on meals.\n* Check out free events and activities offered by hotels and casinos.\n\nThis itinerary is just a suggestion, feel free to customize it based on your interests and budget. Happy travels! \n"},
          ],
        },
      ],
    });
  